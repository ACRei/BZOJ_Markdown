# #3673. 可持久化并查集 by zky

内存限制：128 MiB时间限制：5 Sec

## 题目描述

n个集合 m个操作
操作：
1 a b 合并a,b所在集合
2 k 回到第k次操作之后的状态(查询算作操作)
3 a b 询问a,b是否属于同一集合，是则输出1否则输出0

0<n,m<=2*10^4

## 输入格式

## 输出格式

## 样例

### 样例输入

    
    5 6
    1 1 2
    3 1 2
    2 0
    3 1 2
    2 1
    3 1 2
    
    
    

### 样例输出

    
    1
    0
    1
    
    
    
    
    
    

## 数据范围与提示
